(function(t){function e(e){for(var a,r,c=e[0],s=e[1],u=e[2],l=0,d=[];l<c.length;l++)r=c[l],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&d.push(o[r][0]),o[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);f&&f(e);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(a=!1)}a&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},r={app:0},o={app:0},i=[];function c(t){return s.p+"js/"+({}[t]||t)+"."+{"chunk-01170776":"1b20435f","chunk-2d0c8e13":"f8ff92d7","chunk-2d230bb8":"350650d9","chunk-2ee26348":"d6ded682","chunk-51cd27af":"4a698fe2","chunk-51cddfa1":"438cb6f3","chunk-5490e3fa":"c4c3a890","chunk-73cc8c90":"1eb546d8","chunk-ef88373e":"0a66eb68"}[t]+".js"}function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n={"chunk-01170776":1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise((function(e,n){for(var a="css/"+({}[t]||t)+"."+{"chunk-01170776":"3f6f9c25","chunk-2d0c8e13":"31d6cfe0","chunk-2d230bb8":"31d6cfe0","chunk-2ee26348":"31d6cfe0","chunk-51cd27af":"31d6cfe0","chunk-51cddfa1":"31d6cfe0","chunk-5490e3fa":"31d6cfe0","chunk-73cc8c90":"31d6cfe0","chunk-ef88373e":"31d6cfe0"}[t]+".css",o=s.p+a,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var u=i[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===o))return e()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){u=d[c],l=u.getAttribute("data-href");if(l===a||l===o)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var a=e&&e.target&&e.target.src||o,i=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete r[t],f.parentNode.removeChild(f),n(i)},f.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(f)})).then((function(){r[t]=0})));var a=o[t];if(0!==a)if(a)e.push(a[2]);else{var i=new Promise((function(e,n){a=o[t]=[e,n]}));e.push(a[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=c(t);var d=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(f);var n=o[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",d.name="ChunkLoadError",d.type=a,d.request=r,n[1](d)}o[t]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var f=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"365c":function(t,e,n){"use strict";n("b64b"),n("d3b7");var a=n("d4ec"),r=n("bee2"),o=n("2b0e"),i=n("bc3a"),c=n.n(i),s=n("4360"),u="http://34.92.68.194:9999",l=n("ca00"),d=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;Object(a["a"])(this,t),this.baseUrl=e,this.queue={}}return Object(r["a"])(t,[{key:"getGlobalConfig",value:function(){return{baseURL:this.baseUrl,headers:{}}}},{key:"destroy",value:function(t){delete this.queue[t],Object.keys(this.queue).length}},{key:"interceptors",value:function(t,e){var n=this;t.interceptors.request.use((function(t){return Object.keys(n.queue).length,n.queue[e]=!0,s["a"].getters["auth/isAuth"]&&(t.headers.Authorization="Bearer "+s["a"].getters["auth/token"]),t}),(function(t){return Promise.reject(t)})),t.interceptors.response.use((function(t){return n.destroy(e),t.data}),(function(t){n.destroy(e);var a="未知错误";if(console.log(t),"undefined"===typeof t.response)a="未经授权:访问由于凭据无效被拒绝",l["routeToName"]("logout"),n.queue={};else{switch(t.response.status){case 400:a="请求错误:";break;case 401:a="未经授权:",l["routeToName"]("logout"),n.queue={};break;case 403:a="鉴权失败:";break;case 404:a="资源未找到:";break;case 500:a="服务错误:";break}a+=o["a"].prototype._.get(t,"response.data","未知")}return o["a"].prototype.$message(a,"error"),Promise.reject(t.response)}))}},{key:"request",value:function(t){var e=c.a.create();return t=Object.assign(this.getGlobalConfig(),t),this.interceptors(e,t.url),e(t)}}]),t}(),f=d,m=new f;e["a"]=m},4360:function(t,e,n){"use strict";var a=n("2b0e"),r=n("2f62"),o=(n("4160"),n("d3b7"),n("159b"),n("e072")),i=n("365c"),c="/authorization",s=function(t){return i["a"].request({url:"".concat(c,"/login"),method:"post",data:t})},u=function(){return i["a"].request({url:"".concat(c,"/logout"),method:"get"})},l=function(){return i["a"].request({url:"".concat(c,"/me"),method:"get"})},d=n("84ca"),f=n("2ef0"),m=n.n(f),h=n("ca00"),p={token:null,user:null,role:[],person:null},v={isAuth:function(t){return null!==t.token&&null!==t.user&&null!==t.person},role:function(t){return t.role[0]},token:function(t){return t.token},username:function(t){return t.person.alias},me:function(t){return t.person},avatar:function(t){return h["toAvatarSrc"](t.person.avatar)}},g={SET_TOKEN:function(t,e){t.token=e},SET_USER:function(t,e){t.user=e,t.role=[],e.authorities.forEach((function(e){m.a.has(d["a"],e)&&t.role.push(d["a"][e])})),t.token=e.accessToken,console.log(t.token)},SET_PERSON:function(t,e){t.person=e},LOGOUT:function(t){t.token=null,t.user=null,t.person=null,t.role=[]}},b={login:function(t,e){var n=e.data;return new Promise((function(e,a){s(n).then((function(n){t.commit("SET_USER",n.user),t.commit("SET_PERSON",n.person),e(n)})).catch((function(t){a(t)}))}))},getUser:function(t){return new Promise((function(e,n){l().then((function(n){t.commit("SET_USER",n),e(n)})).catch((function(t){n(t)}))}))},getPerson:function(t){return new Promise((function(e,n){o["i"]().then((function(n){t.commit("SET_PERSON",n),e(n)})).catch((function(t){n(t)}))}))},logout:function(t){var e=t.commit;return new Promise((function(t,n){u().then((function(){return t()})).catch((function(){return n()})).finally((function(){e("LOGOUT")}))}))}},y={namespaced:!0,getters:v,state:p,mutations:g,actions:b},x=n("7761");a["a"].use(r["a"]);e["a"]=new r["a"].Store({state:{},mutations:{},actions:{},modules:{auth:y},plugins:[Object(x["a"])({name:"vuex-auth",local:{list:["auth"]}})]})},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"inspire"}},[n("v-fade-transition",{attrs:{"hide-on-leave":""}},[n("router-view")],1)],1)},o=[],i={name:"App"},c=i,s=n("2877"),u=n("6544"),l=n.n(u),d=n("7496"),f=n("0789"),m=Object(s["a"])(c,r,o,!1,null,null,null),h=m.exports;l()(m,{VApp:d["a"],VFadeTransition:f["d"]});var p=n("f309"),v=n("fcf4");a["a"].use(p["a"]);var g=new p["a"]({icons:{iconfont:"mdi"},theme:{themes:{light:{primary:v["a"].blue.darken1,secondary:v["a"].indigo.lighten1,third:v["a"].green.base,fourth:v["a"].green.base,accent:v["a"].pink.lighten1,error:v["a"].red.lighten1,warning:v["a"].orange.lighten1,info:v["a"].lightBlue.lighten1,success:v["a"].lightGreen.lighten1},dark:{primary:v["a"].red.darken1,secondary:v["a"].blue.darken2,third:v["a"].blue.darken1,fourth:v["a"].grey.darken3,accent:v["a"].orange.darken3,error:v["a"].red.accent3,warning:v["a"].orange.darken3,info:v["a"].blue.accent1,success:v["a"].lightGreen.darken1}}}}),b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-snackbar",{style:t.styles,attrs:{bottom:"bottom"===t.y,color:t.type,left:"left"===t.x,"multi-line":"multi-line"===t.mode,right:"right"===t.x,timeout:t.timeout,top:"top"===t.y,vertical:"vertical"===t.mode},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(t._s(t.content)),n("v-btn",{attrs:{text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("关闭")])],1)},y=[],x=(n("ac1f"),n("1276"),{name:"GlobalMessage",data:function(){return{type:"info",mode:"multi-line",snackbar:!1,content:"Hello, I'm a snackbar",timeout:3e3,x:"left",y:"top",listener:null,id:-1,pos:-1,styles:null}},computed:{},created:function(){var t="left"===this.x,e="right"===this.x,n=!(t||e),a="top"===this.y;this.pos=a?1:4,t||(e?this.pos+=1:n&&(this.pos+=2)),this.pos<=3?this.styles="top:8px":this.styles="bottom:8px"},watch:{snackbar:function(t){var e=this;!1===t&&this.$nextTick((function(){e.$destroy()}))},"listener.message":function(){Math.abs(this.listener.pos)===this.pos&&(this.listener.pos>0?this.listener.id>this.id&&(this.styles=this.pxAdd(this.styles)):this.listener.id>this.id&&(this.styles=this.pxSub(this.styles)))}},methods:{pxAdd:function(t){var e=t.split(":");return"".concat(e[0]+":"+(parseInt(e[1])+88),"px")},pxSub:function(t){var e=t.split(":");return"".concat(e[0]+":"+(parseInt(e[1])-88),"px")}}}),k=x,_=n("8336"),w=n("2db4"),C=Object(s["a"])(k,b,y,!1,null,null,null),E=C.exports;l()(C,{VBtn:_["a"],VSnackbar:w["a"]});var T={id:-1,pos:-1,message:1e3},V=2e3,S=a["a"].extend(E);E.install=function(t,e){void 0===t||null===t?t={content:""}:"string"!==typeof t&&"number"!==typeof t||(t={content:t},void 0!==e&&(t.type=e)),t.id=V+=1,t.listener=T;var n=new S({data:t,destroyed:function(){T.id=n.$data.id,T.pos=-n.$data.pos,T.message+=1}}).$mount();T.pos=n.pos,T.id=n.id,T.message+=1,document.getElementById("inspire").appendChild(n.$el),a["a"].nextTick((function(){n.snackbar=!0}))};var O=E,$=(n("b0c0"),n("5530")),R=n("15fd"),q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-progress-linear",{staticStyle:{"z-index":"50"},attrs:{active:t.options.active,"background-opacity":t.options.opacity,bottom:t.options.bottom,"buffer-value":t.options.buffer,height:t.options.height,indeterminate:t.options.indeterminate,query:t.options.query,rounded:t.options.rounded,stream:t.options.stream,striped:t.options.striped,top:t.options.top,value:t.options.value,color:t.color,fixed:""}})],1)},j=[],A={name:"GlobalLoading",props:{options:{type:Object,default:function(){return{active:!1,opacity:1,bottom:!1,buffer:0,height:5,indeterminate:!0,query:!1,rounded:!0,stream:!0,striped:!0,top:!1,value:0}}}},data:function(){return{}},computed:{color:function(){return"#ffffff"}}},P=A,N=n("8e36"),L=Object(s["a"])(P,q,j,!1,null,null,null),I=L.exports;l()(L,{VProgressLinear:N["a"]}),I.install=null,I.config=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a["a"].component(I.name,I);var e=a["a"].extend(I),n=t,r=(n.autoFinish,Object(R["a"])(n,["autoFinish"])),o=new e;t=Object.assign(o.$props.options,Object($["a"])({},r)),o.$propsData=t,o.$mount(),a["a"].nextTick((function(){document.getElementById("inspire").appendChild(o.$el)})),I.install={start:function(){console.log("运行"),a["a"].$isServer||(o.options.active=!0)},finish:function(){a["a"].$isServer||(o.options.active=!1)}}};var U=I,D=n("a18c"),B=n("4360"),M=n("2ef0"),F=n.n(M);U.config(),a["a"].prototype.$message=O.install,a["a"].prototype.$loading=U.install,a["a"].config.productionTip=!1,a["a"].prototype._=F.a,new a["a"]({router:D["a"],store:B["a"],vuetify:g,render:function(t){return t(h)}}).$mount("#app")},"84ca":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return o}));n("4de4"),n("4160"),n("caad"),n("b64b"),n("2532"),n("159b");var a={ROLE_ADMIN:1,ROLE_STUDENT:2,ROLE_TEACHER:3,all:function(){var t=this,e=[];return Object.keys(this).forEach((function(n){t[n]!==t.ROLE_PUBLIC&&e.push(t[n])})),e},isAdmin:function(t){return t.includes(this.ROLE_ADMIN)},isStudent:function(t){return t.include(this.ROLE_STUDENT)},isTeacher:function(t){return t.include(this.ROLE_TEACHER)}},r=function(t){switch(t){case a.ROLE_ADMIN:return"管理员";case a.ROLE_STUDENT:return"学生";case a.ROLE_TEACHER:return"教师";default:return"未知"}},o=function(t){switch(t){case a.ROLE_ADMIN:return[{name:"仪表盘",routeName:"admin-dashboard",icon:"mdi-tablet-dashboard",color:"teal"},{name:"班级考勤",routeName:"recognition-index",icon:"mdi-account-multiple-outline",color:"lime"},{name:"班级管理",routeName:"admin-management-gather",icon:"mdi-account-group-outline",color:"brown"},{name:"设备管理",routeName:"admin-management-device",icon:"mdi-monitor-cellphone-star",color:"yellow"}];case a.ROLE_TEACHER:return[{name:"班级考勤",routeName:"recognition-index",icon:"mdi-account-multiple-outline",color:"lime"},{name:"历史考勤",routeName:"recognition-history-index",icon:"mdi-history",color:"deep-orange"}];case a.ROLE_STUDENT:return[{name:"我的考勤",routeName:"student-attendance",icon:"mdi-human-handsup",color:"orange"}]}}},"852b":function(t,e,n){t.exports=n.p+"img/bg1.f793872c.png"},a18c:function(t,e,n){"use strict";var a={};n.r(a),n.d(a,"requiredRules",(function(){return m})),n.d(a,"requiredMessageRules",(function(){return h})),n.d(a,"imageRequiredRules",(function(){return p})),n.d(a,"maxLengthRules",(function(){return v})),n.d(a,"integerRules",(function(){return g})),n.d(a,"phoneRules",(function(){return b})),n.d(a,"emailRules",(function(){return y})),n.d(a,"passwordRules",(function(){return x})),n.d(a,"codeRules",(function(){return k})),n.d(a,"unionRules",(function(){return _}));var r=n("2b0e"),o=n("8c4f"),i=(n("d3b7"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"home"}},[n("v-app-bar",{attrs:{id:"bar",app:"","clipped-left":"",color:"cyan"}},[n("v-toolbar-title",{on:{click:function(){t.routeToName("index")}}},[n("a",{staticClass:"title white--text"},[t._v("SF2CS-教室考勤系统")])]),n("v-spacer"),n("v-expand-transition",[t.isAuth?n("v-toolbar-title",{directives:[{name:"show",rawName:"v-show",value:t.fab,expression:"fab"}],staticClass:"mx-md-2 text-right"},[n("span",{staticClass:"d-block subtitle-1"},[t._v(t._s(t.identity.name))]),n("span",{staticClass:"d-block subtitle-2"},[t._v(t._s(t.identity.role))])]):t._e()],1),t.isAuth?n("v-speed-dial",{attrs:{direction:"bottom","open-on-hover":""},scopedSlots:t._u([{key:"activator",fn:function(){return[n("v-avatar",{on:{click:function(e){t.dialog=!0}}},[n("v-img",{attrs:{src:t.identity.avatar}})],1)]},proxy:!0}],null,!1,48993723),model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[t._l(t.menuList,(function(e,a){return[n("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(a){var r=a.on;return[n("v-btn",t._g({attrs:{fab:"",dark:"",color:e.color},on:{click:function(n){return t.routeToName(e.routeName)}}},r),[n("v-icon",[t._v(t._s(e.icon))])],1)]}}],null,!0)},[n("span",[t._v(t._s(e.name))])])]})),n("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-btn",t._g({attrs:{fab:"",dark:"",color:"red",small:""},on:{click:t.toLogout}},a),[n("v-icon",[t._v("mdi-exit-run")])],1)]}}],null,!1,801340546)},[n("span",[t._v("退出")])])],2):n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-btn",t._g({staticClass:"white--text",attrs:{icon:""},on:{click:t.toLogin}},a),[n("v-icon",[t._v("mdi-account")])],1)]}}])},[n("span",[t._v("登录")])]),t.isAuth?n("v-dialog",{attrs:{width:"486",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-row",{staticClass:"justify-center",attrs:{"no-gutters":""}},[n("v-btn",{staticClass:"white--text",attrs:{icon:"",large:""},on:{click:function(e){t.dialog=!1}}},[n("v-icon",[t._v("mdi-close")])],1)],1),n("user-setting")],1):t._e()],1),n("v-content",[n("v-scroll-y-transition",{attrs:{mode:"out-in"}},[n("router-view")],1)],1)],1)}),c=[],s=(n("99af"),n("ceff")),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"user-setting"}},[n("v-card",{staticClass:"mx-auto",attrs:{loading:t.isUpdating},scopedSlots:t._u([{key:"process",fn:function(){return[n("v-progress-linear",{attrs:{absolute:"",color:"green lighten-3",height:"4",indeterminate:""}})]},proxy:!0}])},[n("v-card-title",{staticClass:"d-flex justify-center no-gutters"},[t._v("个人设置")]),n("v-divider"),n("v-form",{ref:"editedItem"},[n("v-container",[n("v-row",[n("v-col",{staticClass:"text-center",attrs:{cols:"6",md:"6"}},[n("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var a=e.hover;return[n("v-avatar",{attrs:{size:"144",tile:"",loading:t.isUpdating}},[n("v-img",{attrs:{src:t.imgPreview}},[t.isEditing?n("v-dialog-bottom-transition",[a?n("v-overlay",{attrs:{absolute:"",opacity:"0.2"}},[n("v-btn",{attrs:{loading:t.isUpdating},on:{click:t.handleClick}},[t._v("上传头像")])],1):t._e()],1):t._e()],1)],1)]}}])}),n("v-file-input",{ref:"avatar",staticClass:"d-none",attrs:{accept:"image/*",label:"上传头像","prepend-icon":""},on:{change:t.detectFace}}),n("v-row",{staticClass:"flex-nowrap mt-md-2"},[n("v-text-field",{ref:"alias",staticClass:"mx-4",attrs:{disabled:t.isUpdating||!t.isEditing,label:"姓名",rules:t.ruleUtil.unionRules(t.ruleUtil.requiredRules("姓名"),t.ruleUtil.maxLengthRules(6))},model:{value:t.editedItem.alias,callback:function(e){t.$set(t.editedItem,"alias",e)},expression:"editedItem.alias"}}),n("v-chip-group",{staticClass:"mt-md-3"},[n("v-chip",{attrs:{outlined:"",pill:"",color:"blue lighten-1",label:""}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-account-circle-outline")]),n("span",[t._v(t._s(t.roleName))])],1)],1)],1)],1),n("v-col",[n("v-card-title",{staticClass:"red--text title"},[t._v("信息仅限于考勤系统")]),n("v-card-text",[n("span",[t._v("个人信息由授权中心管理，考勤系统只存储个人头像和姓名，")]),n("span",[t._v("如需修改其他个人信息 请前往")]),n("a",{attrs:{href:"http://www.baidu.com"}},[t._v(" 授权中心")])]),n("div",{staticClass:"d-flex justify-center"},[n("v-btn",{attrs:{color:t.btnColor,outlined:"",loading:t.isUpdating},on:{click:t.changeEvent}},[t._v(t._s(t.btnText))])],1)],1)],1)],1)],1)],1)],1)},l=[],d=(n("b0c0"),n("e072")),f=n("aa22"),m=(n("4160"),n("159b"),function(t){return function(e){return!!e&&0!==e.length||"".concat(t,"不能为空")}}),h=function(t){return function(e){return!!e&&0!==e.length||"".concat(t,"不合法")}},p=function(t,e){return function(n){return!n||n.size<e||"".concat(t,"图片大小要小于").concat(e/1e6,"MB")}},v=function(t){return function(e){return!e||e.length<t||"长度不能大于".concat(t,"位")}},g=[function(t){return/^[0-9]*[1-9][0-9]*$/.test(t)||"不能输入非正整数"}],b=[function(t){return!!t||"电话号码不能为空"},function(t){return t&&11===t.length||"电话号码必须是11位"}],y=[function(t){return!!t||"邮箱不能为空"},function(t){return/.+@.+\..+/.test(t)||"电子邮箱不规范"},function(t){return t&&t.length<=30||"邮箱长度不能大于30位"}],x=[function(t){return!!t||"密码不能为空"},function(t){return t&&t.length>=8||"密码不能少于8位"},function(t){return t&&t.length<=18||"密码不能大于18位"}],k=[function(t){return!!t||"验证码不能为空"},function(t){return t&&4===t.length||"验证码是4位"}],_=function(){for(var t=[],e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return n.forEach((function(e){if("function"===typeof e)t.push(e);else{if(!(e instanceof Array))throw Error("typeError","Type must be an array or a function");t=t.concat(e)}})),t},w=n("84ca"),C=n("ca00"),E={name:"user-setting",data:function(){return{hover:!0,btnText:"修改",btnColor:"success",imgPreview:this.$store.getters["auth/avatar"],isEditing:!1,isUpdating:!1,editedItem:{alias:"",avatar:null}}},computed:{ruleUtil:function(){return a},me:function(){return this.$store.getters["auth/me"]},roleName:function(){return w["c"](this.$store.getters["auth/role"])}},created:function(){console.log(this.$store.getters["auth/role"]),this.editedItem.alias=this.me.alias,this.editedItem.avatar=this.me.avatar},watch:{isEditing:{handler:function(t){console.log(t),t?(this.btnText="保存",this.btnColor="error"):(this.btnText="修改",this.btnColor="success")}}},methods:{handleClick:function(){this.$refs.avatar.$refs.input.click()},changeEvent:function(){var t=this;if(t.isEditing){if(console.log(t.$refs.alias),!t.$refs.alias.validate(!0))return;t.editedItem.alias===t.me.name&&t.editedItem.avatar===this.me.avatar||d["o"](t.editedItem).then((function(){t.$store.dispatch("auth/getPerson")}))}t.isEditing=!t.isEditing},detectFace:function(t){var e=this;e._.isUndefined(t)?e.imgPreview=e.$store.getters["auth/avatar"]:(e.isUpdating=!0,f["c"](t).then((function(t){e.imgPreview=C["toAvatarSrc"](t),e.editedItem.avatar=t})).finally((function(){e.isUpdating=!1})))}}},T=E,V=n("2877"),S=n("6544"),O=n.n(S),$=n("8212"),R=n("8336"),q=n("b0af"),j=n("99d9"),A=n("cc20"),P=n("ef9a"),N=n("62ad"),L=n("a523"),I=n("0789"),U=n("ce7e"),D=n("23a7"),B=n("4bd4"),M=n("ce87"),F=n("132d"),G=n("adda"),z=n("a797"),H=n("8e36"),J=n("0fd9"),K=n("8654"),Q=Object(V["a"])(T,u,l,!1,null,null,null),Y=Q.exports;O()(Q,{VAvatar:$["a"],VBtn:R["a"],VCard:q["a"],VCardText:j["c"],VCardTitle:j["d"],VChip:A["a"],VChipGroup:P["a"],VCol:N["a"],VContainer:L["a"],VDialogBottomTransition:I["a"],VDivider:U["a"],VFileInput:D["a"],VForm:B["a"],VHover:M["a"],VIcon:F["a"],VImg:G["a"],VOverlay:z["a"],VProgressLinear:H["a"],VRow:J["a"],VTextField:K["a"]});var W=Y,X={name:"home",components:{UserSetting:W,PersonDetail:s["a"]},computed:{routeToName:function(){return C["routeToName"]},isAuth:function(){return this.$store.getters["auth/isAuth"]},identity:function(){return{name:this.$store.getters["auth/username"],avatar:this.$store.getters["auth/avatar"],role:w["c"](this.$store.getters["auth/role"])}},menuList:function(){return w["b"](this.$store.getters["auth/role"])}},data:function(){return{fab:!1,dialog:!1,drawer:!0,items:[{title:"个人设置",icon:"mdi-view-dashboard"},{title:"检查",icon:"mdi-image",to:{name:"recognition-index"}},{title:"注销",icon:"mdi-help-box"}]}},methods:{switchDrawer:function(){this.drawer=!this.drawer},toLogin:function(){var t="http://118.24.1.170:8888/oauth/authorize",e=escape("http://34.92.68.194/#/login"),n="sf2cs",a="code";window.location="".concat(t,"?redirect_uri=").concat(e,"&scope=READ&response_type=").concat(a,"&client_id=").concat(n)},toLogout:function(){var t="http://118.24.1.170:8888/oauth/logout",e=escape("http://34.92.68.194/#/logout"),n="sf2cs";window.location="".concat(t,"?redirect_url=").concat(e,"&client_id=").concat(n)}}},Z=X,tt=n("40dc"),et=n("a75b"),nt=n("169a"),at=n("2fa4"),rt=n("c73b"),ot=n("2a7f"),it=n("3a2f"),ct=Object(V["a"])(Z,i,c,!1,null,null,null),st=ct.exports;O()(ct,{VAppBar:tt["a"],VAvatar:$["a"],VBtn:R["a"],VContent:et["a"],VDialog:nt["a"],VExpandTransition:I["b"],VIcon:F["a"],VImg:G["a"],VRow:J["a"],VScrollYTransition:I["f"],VSpacer:at["a"],VSpeedDial:rt["a"],VToolbarTitle:ot["a"],VTooltip:it["a"]});var ut=st,lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"index"}},[a("section",{attrs:{id:"hero"}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-img",{attrs:{"min-height":"calc(100vh - "+t.$vuetify.application.top+"px)",height:"80vh",src:n("852b")}},[a("v-theme-provider",{attrs:{dark:""}},[a("v-container",{attrs:{"fill-height":""}},[a("v-row",{staticClass:"white--text mx-auto",attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"white--text text-center",attrs:{cols:"12",tag:"h1"}},[a("span",{staticClass:"font-italic",class:[t.$vuetify.breakpoint.smAndDown?"display-3":"display-4"]},[t._v("机器“看”世界")])]),a("v-btn",{staticClass:"align-self-end",attrs:{fab:"",outlined:""},on:{click:function(e){return t.$vuetify.goTo("#features")}}},[a("v-icon",[t._v("mdi-chevron-double-down")])],1)],1)],1)],1)],1)],1)],1),a("div",{staticClass:"py-4"}),a("section",{attrs:{id:"features"}},[a("div",{staticClass:"py-12"}),a("v-container",{staticClass:"text-center"},[a("h2",{staticClass:"display-2 font-weight-bold mb-3"},[t._v("My “人脸识别”")]),a("v-responsive",{staticClass:"mx-auto mb-12",attrs:{width:"56"}},[a("v-btn",{staticClass:"align-self-end",attrs:{fab:"",outlined:""},on:{click:function(e){return t.$vuetify.goTo("#hero")}}},[a("v-icon",[t._v("mdi-chevron-double-up")])],1)],1),a("v-row",t._l(t.features,(function(e,n){var r=e.icon,o=e.title,i=e.text;return a("v-col",{key:n,attrs:{cols:"12",md:"4"}},[a("v-card",{staticClass:"py-12 px-4",attrs:{color:"grey lighten-5",flat:"",hover:""}},[a("v-theme-provider",{attrs:{dark:""}},[a("div",[a("v-avatar",{attrs:{color:"primary",size:"88"}},[a("v-icon",{attrs:{large:""},domProps:{textContent:t._s(r)}})],1)],1)]),a("v-card-title",{staticClass:"justify-center font-weight-black text-uppercase",domProps:{textContent:t._s(o)}}),a("v-card-text",{staticClass:"subtitle-1",domProps:{textContent:t._s(i)}})],1)],1)})),1)],1),a("v-footer",{attrs:{padless:"",color:"cyan"}},[a("v-card",{staticClass:"indigo lighten-1 white--text text-center",attrs:{flat:"",tile:""}},[a("v-card-text",t._l(t.icons,(function(e){return a("v-btn",{key:e,staticClass:"mx-4 white--text",attrs:{icon:""}},[a("v-icon",{attrs:{size:"24px"}},[t._v(t._s(e))])],1)})),1),a("v-card-text",{staticClass:"white--text pt-0"},[t._v("Phasellus feugiat arcu sapien, et iaculis ipsum elementum sit amet. Mauris cursus commodo interdum. Praesent ut risus eget metus luctus accumsan id ultrices nunc. Sed at orci sed massa consectetur dignissim a sit amet dui. Duis commodo vitae velit et faucibus. Morbi vehicula lacinia malesuada. Nulla placerat augue vel ipsum ultrices, cursus iaculis dui sollicitudin. Vestibulum eu ipsum vel diam elementum tempor vel ut orci. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.")]),a("v-divider"),a("v-card-text",{staticClass:"white--text"},[t._v("2020 —"),a("strong",[t._v("BugR")])])],1)],1)],1)])},dt=[],ft={name:"index",data:function(){return{features:[{icon:"mdi-account-group-outline",title:"用户",text:"受众广泛，学生、教师、公司员工等等；上班打卡，上学签到，一扫得知，方便，实用，免去一切人工操作。"},{icon:"mdi-bike-fast",title:"速度",text:"超高速识别人脸，C++实现底层算法封装动态链接库，识别速度非比寻常；更快，更精准，更智能。"},{icon:"mdi-shield-key-outline",title:"安全",text:"基于 OAuth2 授权码方式进行角色授权认证；实行更安全，更便捷，更可靠，更高效的用户管理策略。"}],icons:["mdi-qqchat","mdi-wechat","mdi-github"]}}},mt=ft,ht=n("553a"),pt=n("6b53"),vt=n("480e"),gt=Object(V["a"])(mt,lt,dt,!1,null,null,null),bt=gt.exports;O()(gt,{VAvatar:$["a"],VBtn:R["a"],VCard:q["a"],VCardText:j["c"],VCardTitle:j["d"],VCol:N["a"],VContainer:L["a"],VDivider:U["a"],VFooter:ht["a"],VIcon:F["a"],VImg:G["a"],VResponsive:pt["a"],VRow:J["a"],VThemeProvider:vt["a"]});var yt=bt,xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fill-height mx-auto justify-center align-center d-flex flex-column",attrs:{id:"login"}},[n("p",{staticClass:"blue--text text-md-center",staticStyle:{width:"300px"}},[t._v("正在登录")]),n("v-progress-linear",{attrs:{indeterminate:"",rounded:"",height:"6",striped:""}})],1)},kt=[],_t={name:"login",created:function(){var t=this,e=C["getQueryString"]("code"),n={type:"code",code:e};console.log(e),t.$store.dispatch("auth/login",{data:n}).then((function(t){console.log("登录成功"+t),C["routeToName"]("index")})).then((function(t){console.log("登录失败"+t)}))}},wt=_t,Ct=Object(V["a"])(wt,xt,kt,!1,null,null,null),Et=Ct.exports;O()(Ct,{VProgressLinear:H["a"]});var Tt=Et,Vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fill-height mx-auto justify-center align-center d-flex flex-column",attrs:{id:"logout"}},[n("p",{staticClass:"blue--text text-md-center",staticStyle:{width:"300px"}},[t._v("正在注销")]),n("v-progress-linear",{attrs:{indeterminate:"",rounded:"",height:"6",striped:""}})],1)},St=[],Ot={name:"logout",created:function(){this.$store.dispatch("auth/logout").finally((function(){setTimeout((function(){return C["routeToName"]("index")}),1e3)}))}},$t=Ot,Rt=Object(V["a"])($t,Vt,St,!1,null,null,null),qt=Rt.exports;O()(Rt,{VProgressLinear:H["a"]});var jt=qt,At=[{path:"/login",name:"login",component:Tt,meta:{meta:"登录"}},{path:"/logout",name:"logout",component:jt,meta:{meta:"注销"}},{path:"/",name:"home",component:ut,redirect:"/index",children:[{path:"index",name:"index",meta:{meta:"欢迎使用"},component:yt},{path:"recognition/realtime/index",name:"recognition-index",meta:{meta:"考勤"},component:function(){return n.e("chunk-51cd27af").then(n.bind(null,"65e4"))}},{path:"recognition/realtime/detail",name:"recognition-detail",meta:{meta:"考勤详情"},component:function(){return n.e("chunk-5490e3fa").then(n.bind(null,"b36b"))}},{path:"recognition/history/index",name:"recognition-history-index",meta:{meta:"历史考勤"},component:function(){return n.e("chunk-51cddfa1").then(n.bind(null,"6fe5"))}},{path:"recognition/history/detail",name:"recognition-history-detail",meta:{meta:"历史考勤详情"},component:function(){return n.e("chunk-2ee26348").then(n.bind(null,"8d6e"))}},{path:"admin/dashboard",name:"admin-dashboard",meta:{meta:"仪表盘"},component:function(){return n.e("chunk-73cc8c90").then(n.bind(null,"4453"))}},{path:"admin/management/gather",name:"admin-management-gather",meta:{meta:"班级管理"},component:function(){return Promise.all([n.e("chunk-01170776"),n.e("chunk-2d0c8e13")]).then(n.bind(null,"5783"))}},{path:"admin/management/device",name:"admin-management-device",meta:{meta:"设备管理"},component:function(){return Promise.all([n.e("chunk-01170776"),n.e("chunk-2d230bb8")]).then(n.bind(null,"ee13"))}},{path:"student/attendance",name:"student-attendance",meta:{meta:"我的考勤"},component:function(){return n.e("chunk-ef88373e").then(n.bind(null,"459c"))}}]}];r["a"].use(o["a"]);var Pt=new o["a"]({routes:At});Pt.beforeEach((function(t,e,n){r["a"].prototype.$loading.start(),n()})),Pt.afterEach((function(t){window.document.title=t.meta.meta||"考勤系统",setTimeout((function(){r["a"].prototype.$loading.finish()}),1e3)}));e["a"]=Pt},aa22:function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return c}));n("99af");var a=n("365c"),r="/server",o=function(t){var e=new FormData;return e.append("file",t),a["a"].request({url:"".concat(r,"/detect"),method:"post",headers:{"Content-Type":"multipart/form-data"},data:e})},i=function(t,e){return a["a"].request({url:"".concat(r,"/gather/").concat(t,"/person/").concat(e),method:"post"})},c=function(t,e){return a["a"].request({url:"".concat(r,"/gather/").concat(t,"/person/").concat(e),method:"delete"})}},ca00:function(t,e,n){"use strict";n.r(e),n.d(e,"getQueryString",(function(){return r})),n.d(e,"routeToName",(function(){return o})),n.d(e,"routeBack",(function(){return i})),n.d(e,"toAvatarSrc",(function(){return c})),n.d(e,"toFaceSrc",(function(){return s}));n("4d63"),n("ac1f"),n("25f0"),n("466d"),n("841c");var a=n("a18c"),r=function(t){var e=new RegExp("(^|&)".concat(t,"=([^&]*)(&|$)"),"i"),n=window.location.search.substr(1).match(e);return null!=n?decodeURIComponent(n[2]):null},o=function(t,e){a["a"].push({name:t,params:e})},i=function(){a["a"].back()},c=function(t){return"http://34.92.68.194:9999/img/avatar/".concat(t)},s=function(t){return"http://34.92.68.194:9999/img/face/".concat(t)}},ceff:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"mx-md-4 my-md-3",attrs:{width:"250",height:"250"}},[n("v-img",{staticClass:"white--text align-end",attrs:{src:t.img,gradient:"to bottom, rgba(0,0,0,.0), rgba(0,0,0,.1)",height:"200"}}),n("v-chip-group",[n("v-chip",{staticClass:"mx-md-auto white--text",attrs:{label:"",color:"light-blue lighten-3"}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-label")]),t._v(t._s(t.name))],1),n("v-chip",{staticClass:"white--text mx-md-auto",attrs:{label:"",color:"orange lighten-3"}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-timer-outline")]),t._v(t._s(t.time))],1)],1),t._t("default")],2)},r=[],o={name:"person-detail",props:{name:String,img:String,time:String}},i=o,c=n("2877"),s=n("6544"),u=n.n(s),l=n("b0af"),d=n("cc20"),f=n("ef9a"),m=n("132d"),h=n("adda"),p=Object(c["a"])(i,a,r,!1,null,null,null),v=p.exports;u()(p,{VCard:l["a"],VChip:d["a"],VChipGroup:f["a"],VIcon:m["a"],VImg:h["a"]});e["a"]=v},e072:function(t,e,n){"use strict";n.d(e,"j",(function(){return o})),n.d(e,"g",(function(){return i})),n.d(e,"h",(function(){return c})),n.d(e,"k",(function(){return s})),n.d(e,"l",(function(){return u})),n.d(e,"n",(function(){return l})),n.d(e,"i",(function(){return d})),n.d(e,"o",(function(){return f})),n.d(e,"c",(function(){return m})),n.d(e,"d",(function(){return h})),n.d(e,"e",(function(){return p})),n.d(e,"b",(function(){return v})),n.d(e,"f",(function(){return g})),n.d(e,"a",(function(){return b})),n.d(e,"m",(function(){return y}));n("99af");var a=n("365c"),r="/management",o=function(){return a["a"].request({url:"".concat(r,"/recognition/online"),method:"get"})},i=function(){return a["a"].request({url:"".concat(r,"/recognition/history"),method:"get"})},c=function(t){return a["a"].request({url:"".concat(r,"/recognition/history/").concat(t),method:"get"})},s=function(t){return a["a"].request({url:"".concat(r,"/gather/").concat(t,"/not-in/person"),method:"get"})},u=function(t){return a["a"].request({url:"".concat(r,"/gather/").concat(t,"/student"),method:"get"})},l=function(t){return a["a"].request({url:"".concat(r,"/gather/").concat(t,"/teacher"),method:"get"})},d=function(){return a["a"].request({url:"".concat(r,"/me"),method:"get"})},f=function(t){return a["a"].request({url:"".concat(r,"/me"),method:"put",data:t})},m=function(t,e){return a["a"].request({url:"".concat(r,"/admin/gather/").concat(t,"/manager/").concat(e),method:"post"})},h=function(t,e){return a["a"].request({url:"".concat(r,"/admin/gather/").concat(t,"/manager/").concat(e),method:"delete"})},p=function(){return a["a"].request({url:"".concat(r,"/admin/gather"),method:"get"})},v=function(t){return a["a"].request({url:"".concat(r,"/admin/gather"),method:"post",data:{name:t}})},g=function(){return a["a"].request({url:"".concat(r,"/admin/device"),method:"get"})},b=function(t){return a["a"].request({url:"".concat(r,"/admin/device"),method:"post",data:{name:t}})},y=function(){return a["a"].request({url:"".concat(r,"/student/history"),method:"get"})}}});