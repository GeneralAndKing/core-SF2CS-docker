(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c8e13"],{5783:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"admin-management-gather"}},[e("v-btn",{staticClass:"mx-2 ma-md-2",attrs:{fab:"",dark:"",color:"indigo",right:"",absolute:""},on:{click:function(a){t.gatherDialog=!0}}},[e("v-icon",{attrs:{dark:""}},[t._v("mdi-plus")])],1),e("v-container",[e("v-row",{attrs:{"align-md":"center"}},[t._l(t.gatherList,(function(a,i){return[e("v-col",[e("gather",{key:i,attrs:{"gather-id":a.id,"gather-name":a.name,"gather-size":a.size},on:{click:t.action}})],1)]}))],2),e("v-row",{attrs:{justify:"center"}},[e("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.actionDialog,callback:function(a){t.actionDialog=a},expression:"actionDialog"}},[e("v-card",[e("v-toolbar",{attrs:{dark:"",color:"cyan"}},[e("v-spacer"),e("v-toolbar-title",[t._v(t._s(t.actionText))]),e("v-btn",{attrs:{icon:"",dark:""},on:{click:function(){t.loadGathers(),t.actionDialog=!1}}},[e("v-icon",[t._v("mdi-close")])],1)],1),e("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.personList,"sort-by":["alias","createTime","modifyTime"],"multi-sort":"",loading:t.tableLoading,"loading-text":"正在加载数据"},on:{"click:row":t.actionAskDialog},scopedSlots:t._u([{key:"item.avatar",fn:function(a){var i=a.item;return[e("v-img",{attrs:{src:t.util.toAvatarSrc(i.avatar),width:"50",height:"50"}})]}}])})],1)],1)],1),e("v-row",[e("v-dialog",{attrs:{"max-width":"290"},model:{value:t.askDialog,callback:function(a){t.askDialog=a},expression:"askDialog"}},[e("v-card",[e("v-card-title",{staticClass:"headline justify-md-center"},[t._v("是否确认"+t._s(t.actionText)+"？")]),e("v-card-actions",{staticClass:"justify-md-center"},[e("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:t.actionPerson}},[t._v("确认")])],1)],1)],1)],1),e("v-row",[e("v-dialog",{attrs:{"max-width":"290"},model:{value:t.gatherDialog,callback:function(a){t.gatherDialog=a},expression:"gatherDialog"}},[e("v-card",[e("v-card-title",[t._v("新增班级")]),e("v-card-text",[e("v-text-field",{attrs:{label:"名字"},model:{value:t.actionGatherName,callback:function(a){t.actionGatherName=a},expression:"actionGatherName"}})],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"primary",text:""},on:{click:t.addGather}},[t._v("确定")])],1)],1)],1)],1)],1)],1)},n=[],o=(e("d3b7"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-card",{attrs:{hover:"",width:"300",color:"blue lighten-4"}},[e("v-card-title",{staticClass:"justify-md-center"},[e("v-icon",[t._v("mdi-account-supervisor-circle")]),t._v(t._s(t.gatherName))],1),e("v-card-subtitle",{staticClass:"d-flex justify-md-center"},[t._v(t._s(t.gatherSize)+"人")]),e("v-card-actions",[e("v-row",{attrs:{"justify-md":"center"}},[e("v-col",{attrs:{cols:"6"}},[e("v-row",{staticClass:"my-md-2",attrs:{"justify-md":"center"}},[e("v-btn",{attrs:{color:"green lighten-3",dark:""},on:{click:function(a){return t.click(1)}}},[t._v("添加学生")])],1),e("v-row",{staticClass:"my-md-2",attrs:{"justify-md":"center"}},[e("v-btn",{attrs:{color:"amber lighten-3",dark:""},on:{click:function(a){return t.click(2)}}},[t._v("删除学生")])],1)],1),e("v-col",{attrs:{cols:"6"}},[e("v-row",{staticClass:"my-md-2",attrs:{"justify-md":"center"}},[e("v-btn",{attrs:{color:"green lighten-3",dark:""},on:{click:function(a){return t.click(3)}}},[t._v("添加教师")])],1),e("v-row",{staticClass:"my-md-2",attrs:{"justify-md":"center"}},[e("v-btn",{attrs:{color:"amber lighten-3",dark:""},on:{click:function(a){return t.click(4)}}},[t._v("删除教师")])],1)],1)],1)],1)],1)}),r=[],c=(e("a9e3"),{name:"gather",props:{gatherId:Number,gatherName:String,gatherSize:Number},methods:{click:function(t){this.$emit("click",this.gatherId,t)}}}),s=c,l=e("2877"),d=e("6544"),h=e.n(d),g=e("8336"),u=e("b0af"),v=e("99d9"),m=e("62ad"),f=e("132d"),b=e("0fd9"),k=Object(l["a"])(s,o,r,!1,null,null,null),p=k.exports;h()(k,{VBtn:g["a"],VCard:u["a"],VCardActions:v["a"],VCardSubtitle:v["b"],VCardTitle:v["d"],VCol:m["a"],VIcon:f["a"],VRow:b["a"]});var x=p,L=e("e072"),y=e("aa22"),T=e("ca00"),D={name:"management-gather",components:{Gather:x},computed:{util:function(){return T}},data:function(){return{gatherList:[],frameLoading:!1,tableLoading:!1,actionDialog:!1,askDialog:!1,gatherDialog:!1,actionText:"",actionFlag:0,actionGatherId:0,actionPersonId:0,actionGatherName:"",personList:[],headers:[{text:"头像",align:"start",sortable:!1,value:"avatar"},{text:"姓名",value:"alias"},{text:"创建时间",value:"createTime"},{text:"修改时间",value:"modifyTime"}]}},created:function(){this.loadGathers()},methods:{frameLoadingStart:function(){this.frameLoading=!0},frameLoadingStop:function(){this.frameLoading=!1},tableLoadingStart:function(){this.tableLoading=!0},tableLoadingStop:function(){this.tableLoading=!1},action:function(t,a){switch(this.actionFlag=a,this.actionGatherId=t,a){case 1:this.actionDialog=!0,this.actionText="添加学生",this.actionPersonText="添加",this.loadPeron();break;case 2:this.actionDialog=!0,this.actionText="删除学生",this.actionPersonText="删除",this.loadStudents();break;case 3:this.actionDialog=!0,this.actionText="添加教师",this.actionPersonText="添加",this.loadPeron();break;case 4:this.actionDialog=!0,this.actionText="删除教师",this.actionPersonText="删除",this.loadTeachers();break}console.log(t,a)},loadStudents:function(){var t=this;t.tableLoadingStart(),L["l"](this.actionGatherId).then((function(a){t.personList=a})).finally(t.tableLoadingStop)},loadTeachers:function(){var t=this;t.tableLoadingStart(),L["n"](this.actionGatherId).then((function(a){t.personList=a})).finally(t.tableLoadingStop)},loadPeron:function(){var t=this;t.tableLoadingStart(),L["k"](this.actionGatherId).then((function(a){t.personList=a})).finally(t.tableLoadingStop)},loadGathers:function(){var t=this;console.log("asd"),t.frameLoadingStart(),L["e"]().then((function(a){t.gatherList=a})).finally(t.frameLoadingStop)},actionAskDialog:function(t){console.log(t.id);var a=this;a.actionPersonId=t.id,a.askDialog=!0},actionPerson:function(){var t=this;switch(t.askDialog=!1,t.tableLoadingStart(),t.actionFlag){case 1:y["a"](t.actionGatherId,t.actionPersonId).then((function(a){t.$message(a),t.loadPeron()}));break;case 2:y["b"](t.actionGatherId,t.actionPersonId).then((function(a){t.$message(a),t.loadStudents()}));break;case 3:L["c"](t.actionGatherId,t.actionPersonId).then((function(){t.$message("添加教师成功"),t.loadPeron()}));break;case 4:L["d"](t.actionGatherId,t.actionPersonId).then((function(){t.$message("删除教师成功"),t.loadTeachers()}));break}},addGather:function(){var t=this;L["b"](t.actionGatherName).then((function(){t.loadGathers(),t.$message("添加班级成功")})).finally((function(){t.gatherDialog=!1,t.actionGatherName=""}))}}},w=D,V=e("a523"),_=e("8fea"),S=e("169a"),G=e("adda"),C=e("2fa4"),I=e("8654"),P=e("71d9"),j=e("2a7f"),N=Object(l["a"])(w,i,n,!1,null,null,null),$=N.exports;h()(N,{VBtn:g["a"],VCard:u["a"],VCardActions:v["a"],VCardText:v["c"],VCardTitle:v["d"],VCol:m["a"],VContainer:V["a"],VDataTable:_["a"],VDialog:S["a"],VIcon:f["a"],VImg:G["a"],VRow:b["a"],VSpacer:C["a"],VTextField:I["a"],VToolbar:P["a"],VToolbarTitle:j["a"]});a["default"]=$}}]);